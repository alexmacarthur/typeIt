// TypeIt by Alex MacArthur - https://typeitjs.com
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TypeIt=t()}(this,(function(){"use strict";const e={breakLines:!0,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},t=[null,null,{}];var n=(e,t)=>Object.assign({},e,t);const r=function(e){const r=function(e){return i=i.concat(e.map((e=>t.map(((t,n)=>e[n]?e[n]:t))))),this};let i=[];return r(e),{add:r,set:function(e,t){i[e]=t},reset:function(){i=i.map((e=>(e[2].executed=!1,e)))},getItems:function(){return i.filter((e=>!e[2].executed))},setMeta:function(e,t){i[e][2]=n(i[e][2],t)}}};var i=e=>Array.from(e),o=e=>(new DOMParser).parseFromString(e,"text/html").body;const l=(e,t=null,n=!1)=>{let r=i(e.childNodes).flatMap((e=>{return 3===(t=e).nodeType||"BR"===t.tagName?e:l(e);var t}));return t&&(r=r.filter((e=>!t.contains(e)))),n?r.reverse():r},a=(e,t=null)=>({node:t,content:e});function s(e){let t=o(e);return l(t).flatMap((e=>e.nodeValue?i(e.nodeValue).map((t=>a(t,e))):a(e)))}function u(e,t=!0){return t?s(e):i(e).map((e=>a(e)))}var c=e=>document.createElement(e),d=(e,t="")=>{let n=c("style");n.id=t,n.appendChild(document.createTextNode(e)),document.head.appendChild(n)},f=e=>Array.isArray(e),h=e=>(f(e)||(e=[e/2,e/2]),e),p=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));function y(e,t,n){let r=(t=null!==t?t:e/3)/2;return n?[p(e,e/2),p(t,r)]:[e,t]}var m=e=>"value"in e,g=e=>"BODY"===e.tagName;const b=(e,t)=>{let n=t.querySelectorAll("*");return[t].concat(i(n).reverse()).find((t=>t.cloneNode().outerHTML===e.outerHTML))},v=(e,t,n=null,r)=>{let i=t.content instanceof HTMLElement,o=t.node?.parentNode,a=i?t.content:document.createTextNode(t.content);if(m(e))return void(e.value=`${e.value}${t.content}`);if(!i&&o&&!g(o)){let r=b(o,e);if(r&&((e,t)=>{let n=e.nextSibling;return!n||n.isEqualNode(t)})(r,n))return r;a=o.cloneNode(),a.innerText=t.content;let i=o.parentNode,l=i.cloneNode();if(!g(i)){let t=b(l,e);for(;!t&&!g(i);){let n=l;n.innerHTML=a.outerHTML,a=n,i=i.parentNode,l=i.cloneNode(),t=b(l,e)}e=t||e}}let s=l(e,n,!0)[r-1],u=s?s.parentNode:e;u.insertBefore(a,u.contains(n)?n:null)};var S=(e,t)=>(e[2]=n(e[2],t)||t,e),w=(e,t,n={},r=!1)=>e.map(((i,o)=>{let l=[t,i,n];return r&&(0===o&&(l=S(l,{isFirst:!0})),o+1===e.length&&(l=S(l,{isLast:!0}))),l})),M=e=>e&&e.remove();var T=(e,t,n)=>{let r="string"==typeof e,i=!1,o=-1*e;if(r){let r="END"===e.toUpperCase();o=r?-1:1,i=r?t+o>0:t+o<n.length}return{isString:r,numberOfSteps:o,canKeepMoving:i}},N=e=>{let{font:t,lineHeight:n,color:r}=(i=e,window.getComputedStyle(i,null));var i;let o=c("I"),l={color:r,font:t,lineHeight:n};return Object.assign(o.style,l),o.style.cssText};return function(t,p={}){const g=(e,t)=>(K.add(e),((e={})=>{let t=e.delay;t&&K.add([[H,t]])})(t),this),b=(e={})=>[[k,e,{force:!0}],[k,F,{force:!0}]],S=e=>{let t=F.nextStringDelay;K.add([[H,t[0]],...e,[H,t[1]]])},x=()=>I?i(B.value):l(B,Q,!0),L=e=>{Q&&(Q.classList.toggle("disabled",e),Q.classList.toggle("with-delay",!e))},D=async(e,t)=>{P.push(setTimeout(e,t))},E=async()=>{j.started=!0;let e,t=K.getItems();try{for(let n=0;n<t.length;n++){if(j.frozen||j.destroyed)throw"";let r=t[n],i=r[2];e=[r,this],i.freezeCursor&&L(!0),R=y(F.speed,F.deleteSpeed,F.lifeLike),i?.isFirst&&await F.beforeString(...e),await F.beforeStep(...e),await r[0].call(this,r[1],i),r[2]?.isLast&&await F.afterString(...e),await F.afterStep(...e),K.setMeta(n,{executed:!0}),L(!1)}if(j.completed=!0,await F.afterComplete(...e),!F.loop)throw"";let n=F.loopDelay;D((async()=>{await(async e=>{q&&await C(q),K.reset(),K.set(0,[H,e,{}]),await A(!0)})(n[0]),E()}),n[1])}catch(e){}return this},H=(e=0)=>new Promise((t=>{D((()=>t()),e)})),C=e=>{let t=x(),{numberOfSteps:n,isString:r,canKeepMoving:i}=T(e,q,t);return q+=n,new Promise((e=>{D((async()=>(((e,t,n,r)=>{if(!n)return;let i=t[(r>t.length?t.length:r)-1];(e=i?.parentNode||e).insertBefore(n,i||null)})(B,x(),Q,q),r&&i&&await C(n>0?"START":"END"),e())),R[0])}))},$=e=>new Promise((t=>{D((()=>(v(B,e,Q,q),t())),R[0])})),k=async e=>{F=n(F,e)},z=async()=>{I?B.value="":x().forEach((e=>{M(e)}))},A=e=>(e=!0===e,new Promise((t=>{D((async()=>{let n=x();return n.length&&(I?B.value=B.value.slice(0,-1):M(n[q])),B.querySelectorAll("*").forEach((e=>{if(!e.innerHTML&&"BR"!==e.tagName){let t=e;for(;1===t.parentElement.childNodes.length;)t=t.parentElement;M(t)}})),e&&n.length-1>0?(await A(!0),t()):t()}),R[1])})));this.break=function(e){return g([[$,a(c("BR"))]],e)},this.delete=function(e,t){let n=b(t);return g([n[0],...[...Array(Math.abs(e)||1)].fill(null).map((()=>[A,!e,V])),n[1]],t)},this.empty=function(e={}){return g([[z]],e)},this.exec=function(e,t){let n=b(t);return g([n[0],[e,null],n[1]],t)},this.move=function(e,t){let n=T(e,q,x()),r=b(t),i=n.isString?e:Math.sign(e);return g([r[0],...[...Array(Math.abs(e)||1)].fill(null).map((()=>[C,i,V])),r[1]],t)},this.options=function(e){return g([[k,e]],e)},this.pause=function(e,t){return g([[H,e]],t)},this.type=function(e,t){let n=b(t),r=u(e,F.html),i=[n[0],...w(r,$,V,!0),n[1]];return g(i,t)},this.is=function(e){return j[e]},this.destroy=function(e=!0){P.forEach((e=>clearTimeout(e))),P=[],e&&M(Q),j.destroyed=!0},this.freeze=function(){j.frozen=!0},this.unfreeze=function(){j.frozen=!1,E()},this.reset=function(){!this.is("destroyed")&&this.destroy(),K.reset(),q=0;for(let e in j)j[e]=!1;return I?B.value="":B.innerHTML="",this},this.go=function(){return j.started?this:((async()=>{if(!Q)return;let e=`[data-typeit-id='${U}'] .ti-cursor`;d(`@keyframes blink-${U} { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ${e} { animation: blink-${U} ${F.cursorSpeed/1e3}s infinite; } ${e}.with-delay { animation-delay: 500ms; } ${e}.disabled { animation: none; }`,U),B.appendChild(Q),"loaded"===document.fonts.status||await document.fonts.ready;let t=Q.getBoundingClientRect().width/2;Q.style.margin=`0 -${t+2}px 0 -${t-2}px`})(),F.waitUntilVisible?(((e,t)=>{new IntersectionObserver(((n,r)=>{n.forEach((n=>{n.isIntersecting&&(t(),r.unobserve(e))}))}),{threshold:1}).observe(e)})(B,E.bind(this)),this):(E(),this))},this.getQueue=function(){return K},this.getOptions=function(){return F},this.getElement=function(){return B};let B="string"==typeof(O=t)?document.querySelector(O):O;var O;let I=m(B),R=[],P=[],q=0,V={freezeCursor:!0},j={started:!1,completed:!1,frozen:!1,destroyed:!1},F=n(e,p);F=n(F,{html:!I&&F.html,nextStringDelay:h(F.nextStringDelay),loopDelay:h(F.loopDelay)});let U=Math.random().toString().substring(2,9),K=r([[H,F.startDelay]]);B.dataset.typeitId=U,d("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}");let Q=(()=>{if(I||!F.cursor)return;let e=c("span");return e.innerHTML=o(F.cursorChar).innerHTML,e.className="ti-cursor",e.style.cssText=`display:inline;${N(B)}`,e})();var Y;F.strings=(e=>{let t=B.innerHTML;return t?(B.innerHTML="",F.startDelete?(s(t).forEach((e=>{v(B,e,Q,q)})),S([[A,!0]]),e):[t.trim()].concat(e)):e})((Y=F.strings,f(Y)?Y:[Y])),F.strings.length&&(()=>{let e=F.strings.filter((e=>!!e));e.forEach(((t,n)=>{let r=u(t,F.html);K.add(w(r,$,V,!0)),n+1!==e.length&&(F.breakLines?S([[$,a(c("BR")),V]]):S(w(r,A,V)))}))})()}}));
